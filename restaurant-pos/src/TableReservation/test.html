<!DOCTYPE html>
<html>
    <head>
        <title>Chain Pima</title>
        <style>
            .democlass {
            color: red;
            }
        </style>
    </head>
    <body>

        <select id = "reservateTime" name = "Time Reservation">
            <optgroup label = "Breakfast">
                <option label = "7:00 AM" value = "7:00"></option>
                <option label = "7:30 AM" value = "7:30"></option>
                <option label = "8:00 AM" value = "8:00"></option>
                <option label = "8:30 AM" value = "8:30"></option>
                <option label = "9:00 AM" value = "9:00"></option>
                <option label = "9:30 AM" value = "9:30"></option>
                <option label = "10:00 AM" value = "10:00"></option>
                <option label = "10:30 AM" value = "10:30"></option>
            </optgroup>
            <optgroup label = "Lunch">
                <option label = "1:00 PM" value = "13:00"></option>
                <option label = "1:30 PM" value = "13:30"></option>
                <option label = "2:00 PM" value = "14:00"></option>
                <option label = "2:30 PM" value = "14:30"></option>
                <option label = "3:00 PM" value = "15:00"></option>
                <option label = "3:30 PM" value = "15:30"></option>
                <option label = "4:00 PM" value = "16:00"></option>
                <option label = "4:30 PM" value = "16:30"></option>
                <option label = "5:00 PM" value = "17:00"></option>
            </optgroup>
            <optgroup label = "Dinner">
                <option label = "5:30 PM" value = "17:30"></option>
                <option label = "6:00 PM" value = "18:00"></option>
                <option label = "6:30 PM" value = "18:30"></option>
                <option label = "7:00 PM" value = "19:00"></option>
                <option label = "7:30 PM" value = "19:30"></option>
                <option label = "8:00 PM" value = "20:00"></option>
                <option label = "8:30 PM" value = "20:30"></option>
                <option label = "9:00 PM" value = "21:00"></option>
                <option label = "9:30 PM" value = "21:30"></option>
            </optgroup>
        </select>

    </body>

    <script>
        function disableTime(currentHour, currentMinute) {
            var reservateTime = document.getElementById('reservateTime');
            let i = 0;
            while (true) {
                let option = reservateTime.optgroups[0];
                option = option.groups[i];
                let tempTime = option.value;
                tempTime = tempTime.split(':');
                let hour = parseInt(tempTime[0]);
                let minute = parseInt(tempTime[1]);
                if (hour < currentHour) {
                    option.disabled = true;
                } else if (hour == currentHour) {                    
                    reservateTime.options[i].disabled = true;
                    if (currentMinute <= 30) {
                        reservateTime.options[i + 2].selected = true;
                        break;                   
                    } else {
                        reservateTime.options[i + 1].disabled = true;
                        reservateTime.options[i + 3].selected = true;
                        break;
                    }
                }
                i++;
            }
        }
        
        var dateObj = new Date();
        var hour = dateObj.getHours();
        var minute = dateObj.getMinutes();

        disableTime(9, 15);
    </script>
    
</html>
